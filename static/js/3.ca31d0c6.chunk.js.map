{"version":3,"sources":["../node_modules/react-bootstrap/esm/DropdownButton.js","components/request-form/reques-form.component.js","components/craft-card/craft-card.component.js"],"names":["propTypes","id","PropTypes","any","href","string","onClick","func","title","node","isRequired","disabled","bool","menuRole","rootCloseEvent","bsPrefix","variant","size","DropdownButton","React","forwardRef","_ref","ref","children","props","_objectWithoutPropertiesLoose","createElement","Dropdown","_extends","Toggle","childBsPrefix","Menu","role","displayName","connect","currentUser","user","craft","crafterID","useState","open","setOpen","nameValue","setName","phoneNumberValue","setPhoneNumber","addressValue","setAddress","requested","setRequest","requests","setRequests","getReq","Date","a","firestore","collection","get","then","console","log","usersRef","recievedRequests","docs","map","doc","data","useEffect","checkRequests","forEach","request","userID","handleClose","clearStates","firebase","deleteRequest","requestID","delete","catch","error","Item","Button","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","TextField","autoFocus","margin","label","type","fullWidth","onChange","e","target","value","DialogActions","className","myFirebaseFirestoreTimestampFromDate","Timestamp","fromDate","nid","Math","random","toString","substr","set","clientName","phoneNumber","address","createdAt","crafterName","accepted","CraftCard","imageCraftURL","imagePersonalURL","otherProps","src","icon","faUser","transform","color","faPhone","faTools","faAddressCard"],"mappings":"gSAKIA,EAAY,CAMdC,GAAIC,IAAUC,IAGdC,KAAMF,IAAUG,OAGhBC,QAASJ,IAAUK,KAGnBC,MAAON,IAAUO,KAAKC,WAGtBC,SAAUT,IAAUU,KAGpBC,SAAUX,IAAUG,OAOpBS,eAAgBZ,IAAUG,OAG1BU,SAAUb,IAAUG,OAGpBW,QAASd,IAAUG,OAGnBY,KAAMf,IAAUG,QAWda,EAAiBC,IAAMC,YAAW,SAAUC,EAAMC,GACpD,IAAId,EAAQa,EAAKb,MACbe,EAAWF,EAAKE,SAChBR,EAAWM,EAAKN,SAChBD,EAAiBO,EAAKP,eACtBE,EAAUK,EAAKL,QACfC,EAAOI,EAAKJ,KACZJ,EAAWQ,EAAKR,SAChBF,EAAWU,EAAKV,SAChBP,EAAOiB,EAAKjB,KACZH,EAAKoB,EAAKpB,GACVuB,EAAQC,YAA8BJ,EAAM,CAAC,QAAS,WAAY,WAAY,iBAAkB,UAAW,OAAQ,WAAY,WAAY,OAAQ,OAEvJ,OAAOF,IAAMO,cAAcC,IAAUC,YAAS,CAC5CN,IAAKA,GACJE,GAAQL,IAAMO,cAAcC,IAASE,OAAQ,CAC9C5B,GAAIA,EACJG,KAAMA,EACNa,KAAMA,EACND,QAASA,EACTL,SAAUA,EACVmB,cAAef,GACdP,GAAQW,IAAMO,cAAcC,IAASI,KAAM,CAC5CC,KAAMnB,EACNC,eAAgBA,GACfS,OAELL,EAAee,YAAc,iBAC7Bf,EAAelB,UAAYA,EACZkB,Q,wFC+FAgB,G,MAAAA,aAJS,SAAC,GAAD,MAAe,CACrCC,YADsB,EAAGC,KACPD,eAGLD,EAnKK,SAAC,GAAkD,IAAhDC,EAA+C,EAA/CA,YAAYE,EAAmC,EAAnCA,MAAOC,EAA4B,EAA5BA,UAAWL,EAAiB,EAAjBA,YAAiB,EAC5CM,oBAAS,GADmC,mBAC7DC,EAD6D,KACvDC,EADuD,OAEvCF,mBAAS,IAF8B,mBAE7DG,EAF6D,KAElDC,EAFkD,OAGzBJ,mBAAS,IAHgB,mBAG7DK,EAH6D,KAG3CC,EAH2C,OAIjCN,mBAAS,IAJwB,mBAI7DO,EAJ6D,KAI/CC,EAJ+C,OAKnCR,oBAAS,GAL0B,mBAK7DS,EAL6D,KAKjDC,EALiD,OAMnCV,mBAAS,IAN0B,mBAM7DW,EAN6D,KAMlDC,EANkD,KAS9DC,GAFQ,IAAIC,KAEN,uCAAG,8BAAAC,EAAA,sEACSC,EAAUC,WAAW,YAAYC,MAAMC,KAAKC,QAAQC,IAAI,iBADjE,OACRC,EADQ,OAETC,EAAmBD,EAASE,KAAKC,KAAI,SAAAC,GAAG,OAAIA,EAAIC,UACpDf,EAAYW,GAHC,2CAAH,sDAOZK,qBAAW,WACTf,MAEA,IAEJe,qBAAU,WACRC,MACA,CAAClB,IAED,IAAMkB,EAAgB,WACpBlB,EAASmB,SAAQ,SAAAC,GACZnC,EAAYoC,QAAUD,EAAQC,QAAUjC,GAAagC,EAAQhC,YAC9DqB,QAAQC,IAAI,+BACZX,GAAW,QAUXuB,EAAc,WAClBC,IACAhC,GAAQ,IAGJc,EAAYmB,IAASnB,YAIrBkB,EAAc,WAClB9B,EAAQ,IACRI,EAAW,IACXF,EAAe,KAyCX8B,EAAa,uCAAG,WAAMrC,GAAN,eAAAgB,EAAA,sEAEEC,EAAUC,WAAW,YAAYC,MAAMC,KAAKC,QAAQC,IAAI,iBAF1D,OAEfC,EAFe,OAGLA,EAASE,KAAKC,KAAI,SAAAC,GAAG,OAAIA,EAAIC,UAEnCG,SAAQ,SAAAC,GACZA,EAAQC,QAAUpC,EAAYoC,QAAUjC,GAAagC,EAAQhC,WAC9DiB,EAAUC,WAAW,YAAYS,IAAjC,UAAwCK,EAAQM,YAAaC,SAASnB,MAAK,WAAOC,QAAQC,IAAI,yBAChGX,GAAW,MAAS6B,OAAM,SAACC,GAAWpB,QAAQC,IAAImB,SARhC,2CAAH,sDAkBnB,OAEE,6BACG/B,EAAa,kBAAC,EAAD,CAAgBhC,QAAQ,UAAUf,GAAG,wBAAwBO,MAAM,+EACjF,kBAACmB,EAAA,EAASqD,KAAV,CAAe1E,QAAS,WAAOqE,EAAcrC,KAA7C,mEACkB,kBAAC2C,EAAA,EAAD,CAAU3E,QAjFR,WACtBmC,GAAQ,GACRkB,QAAQC,IAAItB,KA+EQ,qDAIlB,kBAAC4C,EAAA,EAAD,CAAQ1C,KAAMA,EAAM2C,QAASX,EAAaY,kBAAgB,qBACxD,kBAACC,EAAA,EAAD,CAAapF,GAAG,qBAAhB,sDACA,kBAACqF,EAAA,EAAD,KAEE,kBAACC,EAAA,EAAD,CACEC,WAAS,EACTC,OAAO,QACPxF,GAAG,OACHyF,MAAM,iEACNC,KAAK,OACLC,WAAS,EACTC,SAAU,SAACC,GAAQnD,EAAQmD,EAAEC,OAAOC,UAEtC,kBAACT,EAAA,EAAD,CAEEE,OAAO,QACPxF,GAAG,UACHyF,MAAM,8FACNC,KAAK,UACLC,WAAS,EACTC,SAAU,SAACC,GAAQ/C,EAAW+C,EAAEC,OAAOC,UAEzC,kBAACT,EAAA,EAAD,CACEE,OAAO,QACPxF,GAAG,KACHyF,MAAM,0DACNC,KAAK,MACLC,WAAS,EACTC,SAAU,SAACC,GAAQjD,EAAeiD,EAAEC,OAAOC,WAG/C,kBAACC,EAAA,EAAD,KACE,kBAAChB,EAAA,EAAD,CAAQiB,UAAU,YAAYvF,WAAY+B,GAAaE,GAAoBE,GAAexC,QAjG/E,WAEjB,IAAI6F,EAAuCzB,IAASnB,UAAU6C,UAAUC,SAAS,IAAIhD,MAGjFiD,EAAMC,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,GAG/CnD,EAAUC,WAAW,YAAYS,IAAjC,UAAwCqC,IAAOK,IAAI,CACjDC,WAAW,GAAD,OAAKlE,GACf6B,OAAO,GAAD,OAAKpC,EAAYoC,QACvBsC,YAAY,GAAD,OAAKjE,GAChBkE,QAAShE,EACTiE,UAAWZ,EACX7D,UAAU,GAAD,OAAKA,GACdsC,UAAU,GAAD,OAAI0B,GACbU,YAAY,GAAD,OAAK/E,GAChBI,MAAM,GAAD,OAAKA,GACV4E,SAAS,GAAD,QAAI,KAGXvD,MAAK,WACJC,QAAQC,IAAI,kCACZb,EAAW,IACX0B,IACAD,IACAvB,GAAW,MAEZ6B,OAAM,SAAUC,GACfpB,QAAQoB,MAAM,2BAA4BA,QAoExC,kCACA,kBAACE,EAAA,EAAD,CAAQjE,QAAQ,SAASV,QAASkE,GAAlC,0CCvIK0C,UApBG,SAAC,GAAD,EAAGC,cAAH,IAAiB7E,EAAjB,EAAiBA,UAAW8E,EAA5B,EAA4BA,iBAAiB/E,EAA7C,EAA6CA,MAAOJ,EAApD,EAAoDA,YAAa6E,EAAjE,EAAiEA,QAAgBD,GAAjF,EAAyEtC,OAAzE,EAAiFsC,aAAgBQ,EAAjG,8HACd,uCAAKnB,UAAU,gDAAoDmB,GAC/D,yBAAKnB,UAAU,WACX,yBAAKA,UAAU,mBACX,yBAAKoB,IAAG,UAAKF,MAEjB,yBAAKlB,UAAU,WACX,4BAAI,kBAAC,IAAD,CAAiBqB,KAAMC,IAASvG,KAAK,KAAKwG,UAAU,SAASC,MAAM,YAAazF,GACpF,gCAAK,kBAAC,IAAD,CAAiBsF,KAAMI,IAAU1G,KAAK,KAAKwG,UAAU,SAASC,MAAM,YAAzE,IAAuFb,GACvF,4BAAI,kBAAC,IAAD,CAAiBU,KAAMK,IAAU3G,KAAK,KAAKwG,UAAU,SAASC,MAAM,YAAarF,GACrF,4BAAI,kBAAC,IAAD,CAAiBkF,KAAMM,IAAgB5G,KAAK,KAAKwG,UAAU,SAASC,MAAM,YAAaZ,GAE1FnD,QAAQC,IAAI,iBAAmB3B,GAEhC,kBAAC,EAAD,CAAYK,UAAWA,EAAWD,MAAOA,EAAOJ,YAAaA","file":"static/js/3.ca31d0c6.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Dropdown from './Dropdown';\nvar propTypes = {\n  /**\n   * An html id attribute for the Toggle button, necessary for assistive technologies, such as screen readers.\n   * @type {string|number}\n   * @required\n   */\n  id: PropTypes.any,\n\n  /** An `href` passed to the Toggle component */\n  href: PropTypes.string,\n\n  /** An `onClick` handler passed to the Toggle component */\n  onClick: PropTypes.func,\n\n  /** The content of the non-toggle Button.  */\n  title: PropTypes.node.isRequired,\n\n  /** Disables both Buttons  */\n  disabled: PropTypes.bool,\n\n  /** An ARIA accessible role applied to the Menu component. When set to 'menu', The dropdown */\n  menuRole: PropTypes.string,\n\n  /**\n   *  Which event when fired outside the component will cause it to be closed.\n   *\n   * _see [DropdownMenu](#menu-props) for more details_\n   */\n  rootCloseEvent: PropTypes.string,\n\n  /** @ignore */\n  bsPrefix: PropTypes.string,\n\n  /** @ignore */\n  variant: PropTypes.string,\n\n  /** @ignore */\n  size: PropTypes.string\n};\n/**\n * A convenience component for simple or general use dropdowns. Renders a `Button` toggle and all `children`\n * are passed directly to the default `Dropdown.Menu`.\n *\n * _All unknown props are passed through to the `Dropdown` component._ Only\n * the Button `variant`, `size` and `bsPrefix` props are passed to the toggle,\n * along with menu related props are passed to the `Dropdown.Menu`\n */\n\nvar DropdownButton = React.forwardRef(function (_ref, ref) {\n  var title = _ref.title,\n      children = _ref.children,\n      bsPrefix = _ref.bsPrefix,\n      rootCloseEvent = _ref.rootCloseEvent,\n      variant = _ref.variant,\n      size = _ref.size,\n      menuRole = _ref.menuRole,\n      disabled = _ref.disabled,\n      href = _ref.href,\n      id = _ref.id,\n      props = _objectWithoutPropertiesLoose(_ref, [\"title\", \"children\", \"bsPrefix\", \"rootCloseEvent\", \"variant\", \"size\", \"menuRole\", \"disabled\", \"href\", \"id\"]);\n\n  return React.createElement(Dropdown, _extends({\n    ref: ref\n  }, props), React.createElement(Dropdown.Toggle, {\n    id: id,\n    href: href,\n    size: size,\n    variant: variant,\n    disabled: disabled,\n    childBsPrefix: bsPrefix\n  }, title), React.createElement(Dropdown.Menu, {\n    role: menuRole,\n    rootCloseEvent: rootCloseEvent\n  }, children));\n});\nDropdownButton.displayName = 'DropdownButton';\nDropdownButton.propTypes = propTypes;\nexport default DropdownButton;","import React, { useState ,useEffect } from 'react';\r\n//import Button from '@material-ui/core/Button';\r\nimport { Button ,DropdownButton ,Dropdown} from 'react-bootstrap';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { connect } from 'react-redux';\r\nimport './request-form.style.scss';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\n\r\nconst RequestForm = ({ currentUser,craft, crafterID ,displayName}) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [nameValue, setName] = useState(\"\");\r\n  const [phoneNumberValue, setPhoneNumber] = useState(\"\");\r\n  const [addressValue, setAddress] = useState(\"\");\r\n  const [requested , setRequest] = useState(false);\r\n  const [requests , setRequests] = useState([]);\r\n  const today = new Date();\r\n\r\n  const getReq = async() => {\r\n    var  usersRef = await firestore.collection(\"requests\").get().then(console.log(\"hello there \"));\r\n    var recievedRequests = usersRef.docs.map(doc => doc.data());\r\n    setRequests(recievedRequests)\r\n\r\n  }\r\n  \r\n  useEffect( () => {\r\n    getReq();\r\n    \r\n  },[]);\r\n\r\nuseEffect(() => {\r\n  checkRequests();\r\n},[requests])\r\n\r\n  const checkRequests = () => {\r\n    requests.forEach(request => {\r\n      if(currentUser.userID == request.userID && crafterID == request.crafterID) {\r\n        console.log('you have made this request ');\r\n        setRequest(true)\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n    console.log(crafterID)\r\n  };\r\n\r\n  const handleClose = () => {\r\n    clearStates();\r\n    setOpen(false);\r\n  };\r\n\r\n  const firestore = firebase.firestore();\r\n\r\n  //sending request to firebase \r\n\r\n  const clearStates = () => {\r\n    setName(\"\");\r\n    setAddress(\"\");\r\n    setPhoneNumber(\"\")\r\n  }\r\n\r\n  const addRequest = () => {\r\n\r\n    var myFirebaseFirestoreTimestampFromDate = firebase.firestore.Timestamp.fromDate(new Date())\r\n\r\n\r\n    var nid = Math.random().toString(36).substr(2, 9);\r\n\r\n\r\n    firestore.collection(\"requests\").doc(`${nid}`).set({\r\n      clientName: `${nameValue}`,\r\n      userID: `${currentUser.userID}`,\r\n      phoneNumber: `${phoneNumberValue}`,\r\n      address: addressValue,\r\n      createdAt: myFirebaseFirestoreTimestampFromDate,\r\n      crafterID: `${crafterID}`,\r\n      requestID:`${nid}`,\r\n      crafterName: `${displayName}`,\r\n      craft: `${craft}`,\r\n      accepted:`${false}`\r\n\r\n    })\r\n      .then(function () {\r\n        console.log(\"Document successfully written!\");\r\n        setAddress(\"\");\r\n        clearStates();\r\n        handleClose();\r\n        setRequest(true);\r\n      })\r\n      .catch(function (error) {\r\n        console.error(\"Error writing document: \", error);\r\n      });\r\n\r\n  }\r\n\r\n  const showTime  = async() => {\r\n    requests.forEach(request => {console.log(request)})\r\n  }\r\n\r\n  const deleteRequest = async(crafterID) => {\r\n\r\n    var  usersRef = await firestore.collection(\"requests\").get().then(console.log(\"hello there \"));\r\n    var requests = usersRef.docs.map(doc => doc.data());\r\n\r\n    requests.forEach(request => {\r\n      if(request.userID == currentUser.userID && crafterID == request.crafterID) {\r\n        firestore.collection('requests').doc(`${request.requestID}`).delete().then(() => {console.log('deleted successfully ');\r\n      setRequest(false)}).catch((error) => {console.log(error)});\r\n      }\r\n\r\n    })\r\n\r\n    // firestore.collection('requests').doc(`${reqID}`).delete().\r\n    // then(() => {console.log(\"hase been deleted successfully \")}).catch((error)=>{console.log(error)});\r\n\r\n  }\r\n\r\n  return (\r\n\r\n    <div>\r\n      {requested ? (<DropdownButton variant=\"success\" id=\"dropdown-basic-button\" title=\"تم الطلب بنجاح \">\r\n      <Dropdown.Item onClick={() => {deleteRequest(crafterID)}}>الغاء الطلب </Dropdown.Item>\r\n  </DropdownButton>) : (<Button   onClick={handleClickOpen}>\r\n         اطلب الآن \r\n      </Button>)}\r\n      \r\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">ارسال طلب </DialogTitle>\r\n        <DialogContent>\r\n\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"name\"\r\n            label=\" الاسم كاملا\"\r\n            type=\"text\"\r\n            fullWidth\r\n            onChange={(e) => { setName(e.target.value) }}\r\n          />\r\n          <TextField\r\n\r\n            margin=\"dense\"\r\n            id=\"address\"\r\n            label=\"العنوان بالتفصيل\"\r\n            type=\"address\"\r\n            fullWidth\r\n            onChange={(e) => { setAddress(e.target.value) }}\r\n          />\r\n          <TextField\r\n            margin=\"dense\"\r\n            id=\"pn\"\r\n            label=\"رقم الهاتف\"\r\n            type=\"tel\"\r\n            fullWidth\r\n            onChange={(e) => { setPhoneNumber(e.target.value) }}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button className=\"mr-0 ml-2\" disabled={!(nameValue && phoneNumberValue && addressValue)} onClick={addRequest}>ارسال</Button>\r\n          <Button variant=\"danger\" onClick={handleClose}>اغلاق </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n\r\n}\r\nconst mapStateToProps = ({ user }) => ({\r\n  currentUser: user.currentUser\r\n})\r\n\r\nexport default connect(mapStateToProps)(RequestForm)","import React from 'react';\r\nimport './craft-card.style.scss';\r\nimport ReactDOM from 'react-dom'\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { fab } from '@fortawesome/free-brands-svg-icons'\r\nimport {faUser,faTools, faAddressCard,faPhone,faCheckSquare, faCoffee } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {Button} from 'react-bootstrap';\r\nimport Skeleton from 'react-loading-skeleton';\r\nimport RequesForm from '../request-form/reques-form.component';\r\n\r\nconst CraftCard = ({ imageCraftURL,crafterID, imagePersonalURL,craft, displayName, address,userID, phoneNumber, ...otherProps }) => (\r\n    <div className=\"col-12 col-md-6 col-lg-3 mb-5 col craft-card\"  {...otherProps} >\r\n        <div className=\"content\">\r\n            <div className=\"image-container\">\r\n                <img src={`${imagePersonalURL}`} />  \r\n            </div>\r\n            <div className=\"details\">\r\n                <h5><FontAwesomeIcon icon={faUser}  size=\"sm\" transform=\"left-4\" color=\"#3587D7\" />{displayName}</h5>\r\n                <h5> <FontAwesomeIcon icon={faPhone}  size=\"sm\" transform=\"left-4\" color=\"#3587D7\" /> {phoneNumber}</h5>\r\n                <h5><FontAwesomeIcon icon={faTools}  size=\"sm\" transform=\"left-4\" color=\"#3587D7\" />{craft}</h5>\r\n                <h5><FontAwesomeIcon icon={faAddressCard}  size=\"sm\" transform=\"left-4\" color=\"#3587D7\" />{address}</h5>\r\n                \r\n                {console.log(\"the name is : \" , displayName)    \r\n                }\r\n                <RequesForm crafterID={crafterID} craft={craft} displayName={displayName} />\r\n            </div>\r\n        </div>\r\n    </div>\r\n)\r\n\r\nexport default CraftCard;"],"sourceRoot":""}